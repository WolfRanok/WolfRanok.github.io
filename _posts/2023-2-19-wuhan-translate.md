---
layout: post
title: åŸºäºsvmå®ç°çš„å±å¹•ç¿»è¯‘é¡¹ç›®è§£æ
author: Ranok
tag: [äººå·¥æ™ºèƒ½,è®¡ç®—æœºè§†è§‰,python,æœºå™¨å­¦ä¹ ,çˆ¬è™«]
permalink: tranlate     # ç½‘é¡µçš„è·¯å¾„
feature-img: assets/img/feature-img/translate.jpg # è¿™æ˜¯ä¸€ä¸ªä¼šå‡ºç°åœ¨åšå®¢æ–‡ç« å†…éƒ¨çš„å›¾ç‰‡
thumbnail: assets/img/thumbnails/feature-img/translate.jpg # æ–‡ä»¶è·¯å¾„åœ¨githubè¿˜æ˜¯åªæ”¯æŒæ­£æ–œæ '/'
---
<a id="go_to_top"></a>
&emsp;&emsp;ä¸çŸ¥ä¸è§‰é—´ï¼Œäººå·¥æ™ºèƒ½æ…¢æ…¢å¼€å§‹èµ°è¿›åƒå®¶ä¸‡æˆ·ã€‚æ— äººé©¾é©¶ã€AIç»˜å›¾ã€è¯­éŸ³è¯†åˆ«ã€AIèŠå¤©éƒ½æ˜¯äººå·¥æ™ºèƒ½çš„é¢†åŸŸã€‚æˆ‘ä½œä¸ºä¸€ä¸ªæ™ºèƒ½çš„å­¦ç”Ÿå·²ç»è¢«è¿·å¾—ä¸è¡Œäº†ï¼Œåœ¨è¿™ä»½çƒ­çˆ±çš„æ”¯æŒä¸‹æˆ‘å®Œæˆäº†è¿™ä»½é¡¹ç›®ã€‚è™½ç„¶æˆ‘çš„é¡¹ç›®ä¸å½“ä»Šæ™ºèƒ½æŠ€æœ¯æ— æ³•æ¯”æ‹Ÿï¼Œä½†æ˜¯å…¶ä¸­è¿ç”¨åˆ°çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼ˆå¦‚`SVM`åˆ†ç±»å™¨ï¼‰è¶³ä»¥èƒ½å¤Ÿè®©æˆ‘çš„é¡¹ç›®å½’ç±»åˆ°äººå·¥æ™ºèƒ½ã€‚

---
# ç›®å½•
- [ç›®å½•](#ç›®å½•)
- [å‰è¨€](#å‰è¨€)
- [é¡¹ç›®æ€»ç›®æ ‡](#é¡¹ç›®æ€»ç›®æ ‡)
- [æ­£æ–‡](#æ­£æ–‡)
  - [æ•°æ®æ”¶é›†ä¸æ•°æ®æ¸…æ´—](#æ•°æ®æ”¶é›†ä¸æ•°æ®æ¸…æ´—)
    - [ä¸ºä»€ä¹ˆè¦æ”¶é›†æ•°æ®ï¼Ÿ](#ä¸ºä»€ä¹ˆè¦æ”¶é›†æ•°æ®)
    - [æ•°æ®æ”¶é›†](#æ•°æ®æ”¶é›†)
    - [æ•°æ®è§„èŒƒåŒ–](#æ•°æ®è§„èŒƒåŒ–)
  - [å»ºæ¨¡ä¸æœºå™¨å­¦ä¹ ï¼ˆSVMï¼‰](#å»ºæ¨¡ä¸æœºå™¨å­¦ä¹ svm)
    - [å¯¹å»ºæ¨¡çš„ç†è§£ä¸æœºå™¨å­¦ä¹ çš„ç†è§£](#å¯¹å»ºæ¨¡çš„ç†è§£ä¸æœºå™¨å­¦ä¹ çš„ç†è§£)
    - [å»ºæ¨¡](#å»ºæ¨¡)
      - [1.éšæœºåˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†](#1éšæœºåˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†)
      - [2.å‚æ•°è°ƒä¼˜](#2å‚æ•°è°ƒä¼˜)
      - [3.è®­ç»ƒ](#3è®­ç»ƒ)
      - [4.æ¨¡å‹æ£€éªŒ](#4æ¨¡å‹æ£€éªŒ)
      - [5.æ¨¡å‹ä¿å­˜](#5æ¨¡å‹ä¿å­˜)
    - [æ•°æ®å¤„ç†](#æ•°æ®å¤„ç†)
  - [å•è¯ \& å¥å­çš„è¯†åˆ«](#å•è¯--å¥å­çš„è¯†åˆ«)
    - [Q \& A](#q--a)
    - [findContoursè½®å»“è·å–å‡½æ•°è¯´æ˜](#findcontoursè½®å»“è·å–å‡½æ•°è¯´æ˜)
      - [å‡½æ•°è¯´æ˜](#å‡½æ•°è¯´æ˜)
      - [å‡½æ•°ç­¾å](#å‡½æ•°ç­¾å)
      - [ä»£ç æ¼”ç¤º](#ä»£ç æ¼”ç¤º)
    - [é¦–å…ˆä»å›¾ç‰‡ä¸­åˆ†ç¦»å‡ºå¥å­](#é¦–å…ˆä»å›¾ç‰‡ä¸­åˆ†ç¦»å‡ºå¥å­)
    - [å…¶æ¬¡ä»å¥å­ä¸­åˆ†ç¦»å‡ºå•è¯](#å…¶æ¬¡ä»å¥å­ä¸­åˆ†ç¦»å‡ºå•è¯)
    - [æœ€åä»å•è¯ä¸­åˆ†ç¦»å‡ºå­—æ¯å¹¶è¯†åˆ«](#æœ€åä»å•è¯ä¸­åˆ†ç¦»å‡ºå­—æ¯å¹¶è¯†åˆ«)
  - [ç¿»è¯‘](#ç¿»è¯‘)

---

# å‰è¨€
&emsp;&emsp;æ­¤é¡¹ç›®ä¸“ç”¨äº204æŠ€æœ¯äº¤æµä¼šä½¿ç”¨ï¼Œæœªç»æœ¬äººå…è®¸ä¸å¾—å¤–ä¼ ã€‚ä¸ºäº†æ›´å¥½åœ°å±•ç¤ºé¡¹ç›®ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå†™ä¸‹è¿™ç¯‡åšå®¢ã€‚æœ¬åšå®¢é¢å‘æ–°äººï¼Œæˆ‘å°½å¯èƒ½çš„ä½¿ç”¨äº†æœ€æœ´ç´ çš„æ–¹å¼æ¥è¡¨è¾¾æˆ‘çš„é¡¹ç›®æŠ€æœ¯æµç¨‹ä»¥åŠç®—æ³•æ€æƒ³ï¼Œä¸”æ–‡ç« ä¸­ä¸ä¼šå‡ºç°å¤§é‡ç”Ÿåƒ»éš¾æ‡‚çš„æœ¯è¯­ï¼Œè¯·æ”¾å¿ƒé£Ÿç”¨ã€‚å¦å¤–ï¼Œæ­¤é™æ€åšå®¢ç½‘åŸºäº[Jekyll](http://jekyllrb.com/)æ¡†æ¶æ­å»ºï¼Œä½†å¯¹`Jekyll`çš„è®¨è®ºå¹¶ä¸åœ¨æ­¤æ¬¡æŠ€æœ¯äº¤æµä¹‹åˆ—ä¸­ã€‚å¦‚æœä½ å¯¹`Jekyll`æ„Ÿå…´è¶£ï¼Œéšæ—¶æ¬¢è¿ä¸æˆ‘è®¨è®ºâ¤ï¸ã€‚

&emsp;&emsp;æœ¬é¡¹ç›®è®¾è®¡ä»¥åŠç¼–ç å†æ—¶å…±7å¤©ï¼Œå…±è®¡åˆ’åˆ†8ä¸ªæ¨¡å—ï¼Œé¡¹ç›®å¤§è‡´å¯ä»¥åˆ’å‡ºä»¥ä¸‹å‡ ä¸ªæŠ€æœ¯åˆ†æ”¯ï¼š
- åŸºäºopencvå®ç°çš„æ•°æ®æ¸…æ´—ä¸é¢„å¤„ç†
- åŸºäºsvmæœºå™¨å­¦ä¹ åˆ†ç±»å™¨è¯†åˆ«å­—æ¯
- åŸºäºseleniumæ— å¤´æµè§ˆå™¨å®ç°çš„ç¿»è¯‘çˆ¬è™«
- ä½¿ç”¨threadingçº¿ç¨‹æ± ä¼˜åŒ–

---

> æ¸©é¦¨æç¤ºï¼šå¦‚æœä½ è§‰å¾—ç•Œé¢é…è‰²æœ‰äº›åˆºçœ¼ï¼Œä½ å¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„èœå•ï¼Œé€‰æ‹©ä½¿ç”¨**åœ†å½¢**æŒ‰é’®åˆ‡æ¢ä¸»é¢˜èƒŒæ™¯ã€‚


# é¡¹ç›®æ€»ç›®æ ‡

&emsp;&emsp;å®ç°ä¸€ä¸ªå¯ä»¥å®æ—¶è¯»å–å±å¹•ä¿¡æ¯ï¼Œå¹¶ç¿»è¯‘å›¾ä¸­è‹±æ–‡çš„å±å¹•ç¿»è¯‘å™¨ã€‚

&emsp;&emsp;æ•ˆæœå±•ç¤ºå¦‚ä¸‹å›¾ï¼Œå·¦å³åˆ†åˆ«ä¸ºç¿»è¯‘å‰åçš„å¯¹æ¯”ï¼š

{% include aligner.html images="blog-img/translate/2.jpg,blog-img/translate/1.jpg" column=3 %}

&emsp;&emsp;é¡¹ç›®ä¸»è¦çš„æŠ€æœ¯ç‚¹ä»¥åŠæµç¨‹å¦‚ä¸‹æ‰€ç¤º

{% include aligner.html images="blog-img/translate/9.png" column=3 %}

---
# æ­£æ–‡

---

## æ•°æ®æ”¶é›†ä¸æ•°æ®æ¸…æ´—
---

### ä¸ºä»€ä¹ˆè¦æ”¶é›†æ•°æ®ï¼Ÿ

&emsp;&emsp;è¦ç¿»è¯‘å±å¹•ä¸­çš„è‹±æ–‡ï¼Œé¦–å…ˆè¦åšçš„åº”è¯¥æ˜¯è¯†åˆ«å‡ºå±å¹•ä¸­çš„è‹±æ–‡ã€‚è¯†åˆ«çš„å·¥ä½œæ˜¯äº¤ç”±æœºå™¨å­¦ä¹ æ¨¡å‹å®ç°çš„ï¼Œä½†æ˜¯æ¨¡å‹å¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±æ‹¥æœ‰è¯†åˆ«è‹±æ–‡çš„èƒ½åŠ›ã€‚äº‹å®ä¸Šä½ å¯ä»¥å°†`python`æ‰€æä¾›æœºå™¨å­¦ä¹ æ¨¡å‹è§†ä¸ºç©ºå£³ï¼Œåªæœ‰é€šè¿‡ä¸æ–­çš„å–‚å…»å…¶æ•°æ®ï¼Œä¸»è§‚çš„å‘Šè¯‰æ¨¡å‹ä»€ä¹ˆæ˜¯å¯¹çš„ä»€ä¹ˆæ˜¯é”™çš„ï¼Œåœ¨ä¸æ–­çš„è®­ç»ƒå­¦ä¹ ä¹‹åæ¨¡å‹æ‰æœ‰è¯†åˆ«çš„èƒ½åŠ›ã€‚æœºå™¨å­¦ä¹ å› æ­¤å¾—åâ€œæœºå™¨å­¦ä¹ â€ã€‚

&emsp;&emsp;ä»€ä¹ˆï¼Ÿä½ é—®æˆ‘ä¸ºä»€ä¹ˆä¸ç›´æ¥å»ç½‘ä¸Šä¸‹è½½ä¸€ä¸ªæ¨¡å‹ï¼Ÿ<br>
&emsp;&emsp;é‚£è‚¯å®šæ˜¯~~ï¼ˆæ²¡æ‰¾åˆ°ï¼‰~~æƒ³è¦é”»ç‚¼ğŸ’ªè‡ªå·±å‘€ï¼

&emsp;&emsp;ä¸€èˆ¬çš„ï¼Œä¸€ä¸ªæ¨¡å‹çš„å¥½åä¸»è¦æœ€å…³é”®çš„å› ç´ æ˜¯æ•°æ®çš„ä¼˜åŠ£ã€‚æ•°æ®è¶Šå¤šè¶Šçº¯å‡€å°±è¶Šå®¹æ˜“è®­ç»ƒå‡ºä¼˜ç§€çš„æ¨¡å‹ã€‚å› æ­¤æ•°æ®æ•´ç†çš„éƒ¨åˆ†æ˜¾çš„å°¤ä¸ºé‡è¦ã€‚

---
### æ•°æ®æ”¶é›†

&emsp;&emsp;æ¨¡å‹éœ€è¦è¯†åˆ«çš„æ˜¯å±å¹•ä¸­çš„è‹±æ–‡ï¼Œæ‰€ä»¥æ”¶é›†çš„æ•°æ®ä¹Ÿåº”è¯¥æ˜¯å°åˆ·ä½“çš„çš„å­—æ¯å›¾ç‰‡ã€‚ä¸è¿‡è¿™ç±»æ•°æ®èµ„æºåœ¨ç½‘ä¸Šå¾ˆå°‘èƒ½æ‰¾å¾—åˆ°ï¼Œå°‘æ•°åœ¨[Gethub](https://www.php.cn/tool/git/413611.html)å’Œ[Kaggle](https://cloud.tencent.com/developer/news/68329)ä¸Šæ‰¾åˆ°çš„èµ„æºæ‰€è®­ç»ƒå‡ºçš„æ¨¡å‹æ•ˆæœéƒ½ä¸å°½äººæ„ã€‚

&emsp;&emsp;æœ€ç»ˆè¿˜æ˜¯å†³å®šï¼Œè‡ªå·±åŠ¨æ‰‹åˆ›é€ æ•°æ®ã€‚<br>
&emsp;&emsp;é¦–å…ˆå‡†å¤‡å¥½è‡ªåˆ¶çš„52ä¸ªå¤§å°å†™è‹±æ–‡å­—æ¯ä¸€ä»½ã€‚
{% include aligner.html images="blog-img/translate/3.jpg" column=3 %}

&emsp;&emsp;æ¯ä¸ªå­—æ¯åªæœ‰ä¸€å¼ å›¾ç‰‡ç”¨ä»¥ä¾›åº”æ¨¡å‹çš„è®­ç»ƒè‚¯å®šæ˜¯ä¸å¤Ÿç”¨çš„ï¼Œæ‰€ä»¥åº”è¯¥å¯¹æ•°æ®è¿›è¡Œæ‰©å……ï¼Œä¿è¯è‡³å°‘æ¯ä¸ªå­—æ¯å¯¹åº”èƒ½æœ‰20å¼ åŒ¹é…çš„å›¾ç‰‡ã€‚è¿™é‡Œä½¿ç”¨åˆ°çš„æŠ€æœ¯æ˜¯å›¾ç‰‡çš„**ä¸‹é‡‡æ ·**ä»¥åšåˆ°å›¾ç‰‡çš„æ‰©å……ï¼Œç®€å•çš„ç†è§£å°±æ˜¯é€šè¿‡å¯¹ä¸€å¼ å›¾ç‰‡é‡‡ç”¨éšæœºçš„ä¸åŒç¨‹åº¦çš„æ¨¡ç³ŠåŒ–å¤„ç†ä»è€Œåˆ°å¤šå¼ å›¾ç‰‡ã€‚

&emsp;&emsp;å…¶ä¸­å¯¹å­—æ¯Açš„é‡‡æ ·ç»“æœç¤ºæ„å›¾å¦‚ä¸‹ï¼š

{% include aligner.html images="blog-img/translate/4.jpg" column=3 %}

&emsp;&emsp;ä½ é—®æˆ‘ä¸ºä»€ä¹ˆä¸å¤šé€ å‡ ä¸ªæ•°æ®ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸‹é‡‡æ ·æ‰©å……ï¼Ÿ<br>
&emsp;&emsp;~~ï¼ˆè‚ä¸å¤Ÿå¤šï¼‰~~ä¸‹é‡‡æ ·å¾—åˆ°çš„å›¾ç‰‡æ˜¯å¯¹åŸæœ‰å›¾ç‰‡çš„è¡ç”Ÿï¼ŒåŒæ ·æ‹¥æœ‰åŸå›¾åƒçš„åŸºæœ¬ä¿¡æ¯ï¼Œç”¨è¿™æ ·çš„æ•°æ®è¿›è¡Œè®­ç»ƒä¸ä¼šå½±å“æ¨¡å‹çš„æ•ˆæœã€‚


### æ•°æ®è§„èŒƒåŒ–

&emsp;&emsp;å›¾åƒæ•°æ®éœ€è¦æœ€ç»ˆä¾›æ¨¡å‹è®­ç»ƒï¼Œè€Œè®­ç»ƒçš„æ¥å£æ˜¯å›ºå®šçš„ï¼Œå› æ­¤æ‰€æœ‰çš„æ•°æ®åº”è¯¥æœ‰ç›¸åŒçš„è§„æ ¼ã€‚

&emsp;&emsp;æˆ‘çš„åšæ³•æ˜¯å°†æ•°æ®å¤„ç†æˆ $$ 20*20 $$ åƒç´ çš„é»‘ç™½å›¾ç‰‡ç´ æä½¿ç”¨ã€‚

&emsp;&emsp;ä¹Ÿå°±æ˜¯å°†ä¸€ä¸ªæ™®é€šçš„å­—æ¯å›¾ç‰‡é€šè¿‡æ¨ªå‘çºµå‘çš„æ‹‰ä¼¸ä¸å‹ç¼©å˜æˆä¸€ä¸ª $$ 20*20 $$ æ ‡å‡†çš„å›¾ç‰‡ã€‚æ˜¾è€Œæ˜“è§çš„ï¼Œè¿™ç§åšæ³•å¾ˆå®¹æ˜“å¯¼è‡´å›¾ç‰‡ä¿¡æ¯äº†æµå¤±ã€‚æˆ‘åœ¨å®è·µä¸­ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå…¶ä¸­å½±å“æœ€å¤§çš„å°±æ˜¯å­—æ¯ $$ il $$ ç­‰é•¿å®½æ¯”å·®è·è¾ƒå¤§çš„å­—æ¯ï¼Œå¦‚æœç›´æ¥é€šè¿‡æ‹‰ä¼¸ä¸æ”¾ç¼©çš„æ‰‹æ®µè®©å…¶è§„èŒƒåŒ–çš„è¯å°±ä¼šå‡ºç°ä»¥ä¸‹çš„ç»“æœï¼ˆå·¦è¾¹ä¸ºåŸå›¾ï¼Œå³è¾¹ä¸ºå¤„ç†åçš„å›¾åƒï¼‰ä»¥è‡³äºå½±å“åˆ°åé¢å»ºæ¨¡çš„æ•ˆæœ:

{% include aligner.html images="blog-img/translate/5.jpg,blog-img/translate/6.jpg" column=10 %}

&emsp;&emsp;å¯¹æ­¤æˆ‘çš„åšæ³•æ˜¯æ˜¾å¼åœ°åˆ¤æ–­å›¾ç‰‡çš„é•¿å®½æ¯”ï¼Œå½“é•¿å®½æ¯”è¶…è¿‡4æ—¶ï¼Œæ‰‹åŠ¨æ”¾ç¼©ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š

```python
    def resize(self, img):
        """
        å›¾åƒéœ€è¦åŸå…ˆå°±æ˜¯ç°åº¦å›¾åƒ
        å°†å›¾ç‰‡è°ƒæ•´åˆ°æ ‡å‡†å¤§å°20*20
        :param img: åŸå›¾åƒ
        :return:finish_img
        """

        if img.shape[0] / img.shape[1] > 4:  # è¡¨ç¤ºé•¿å®½æ¯”å¤ªå¤§äº†ï¼Œä¸é€‚åˆåšæ‹‰ä¼¸æ“ä½œ
            ## å¾…è¡¥å……ï¼Œè¿™é‡Œéœ€è¦è§£å†³è¿‡åº¦æ‹‰ä¼¸çš„é—®é¢˜ï¼Œå¯èƒ½éœ€è¦å¯»æ‰¾å¡«å……çš„æ–¹æ³•
            # è®¡ç®—éœ€è¦ç”¨äºå¡«å……çš„å›¾åƒçš„å®½é«˜
            high = img.shape[0]
            wide = int((img.shape[0] - img.shape[1]) / 2)

            grid = np.zeros((high, wide))  # è®¡ç®—ç”¨äºå¡«å……çš„é»‘è‰²å›¾ç‰‡

            img = np.hstack((grid, img))  # å·¦å³éƒ½åšå¡«å……
            img = np.hstack((img, grid))  # å·¦å³éƒ½åšå¡«å……

            # æœ€åå°†å¡«å……çš„å›¾åƒé‡æ–°è½¬æ¢ä¸º20*20çš„æ ¼å¼
            img = cv2.resize(img, (20, 20))
            if self.debug:
                print("è¿™é‡Œåšäº†ä¸€æ¬¡å¯¹ç§°å¡«å……")
        else:
            img = cv2.resize(img, (20, 20))
        # è°ƒæ•´å¤§å°å¹¶è¿”å›
        return img
```
---

## å»ºæ¨¡ä¸æœºå™¨å­¦ä¹ ï¼ˆSVMï¼‰

### å¯¹å»ºæ¨¡çš„ç†è§£ä¸æœºå™¨å­¦ä¹ çš„ç†è§£
&emsp;&emsp;åœ¨æ•°æ®è§„èŒƒåŒ–åæˆ‘ä»¬å¾—åˆ°äº†ï¼Œå™ªéŸ³ï¼ˆæ‚è´¨ï¼‰ç›¸å¯¹è¾ƒå°‘çš„ $$20 * 20$$çš„å›¾ç‰‡ä¿¡æ¯ï¼Œä½†æ˜¯æˆ‘ä»¬çš„$$ SVM $$åˆ†ç±»å™¨æ¨¡å‹ï¼ˆä¸‹é¢ä»¥â€œ$$SVM$$â€ç®€ç§°ï¼‰è¿˜ä¸èƒ½ç›´æ¥ä½¿ç”¨è¿™äº›æ•°æ®ï¼Œ$$SVM$$æ‰€åæ˜ çš„æ˜¯å¤šä¸ªæ•°å€¼å½±å“ä¸€ä¸ªæ•°å€¼çš„**æ˜ å°„å…³ç³»å‡½æ•°**ï¼Œå¯ä»¥ç®€å•çš„æ¦‚æ‹¬æˆä»¥ä¸‹çš„å‡½æ•°ï¼Œè®­ç»ƒçš„æœ€ç»ˆç›®çš„å°±æ˜¯ä¸ºäº†å¾—åˆ°è¿™ä¸ªå‡½æ•°ï¼š

$$ f(x) = w_1x_1 + w_2x_2 + w_3x_3 + /dots w_nx_n $$

> å…¶ä¸­ $$ x_i $$ è¡¨ç¤ºè‡ªå˜é‡ï¼Œå¯ä»¥ç†è§£ä¸ºå¯¹åº”å›¾ç‰‡åƒç´ ç‚¹çš„æ•°å€¼ï¼Œ$$ w_i $$è¡¨ç¤ºæƒå€¼ï¼Œ$$f(x)$$æ˜¯æœ€ç»ˆè®¡ç®—å‡ºæ¥çš„ç»“æœã€‚

&emsp;&emsp;å°†ä¹‹å‰æ¸…æ´—å¥½çš„å›¾åƒï¼Œå½“æˆä¸€ä¸ªä¸ª$$ n $$ç»„400ç»´çš„æ–¹ç¨‹ç»„ï¼Œä½¿ç”¨$$ SVM $$ ç®—æ³•â€œè§£æ–¹ç¨‹â€ã€‚

> 400ç»´ç”±æ¥ï¼šä¸€ä¸ª20*20çš„å›¾ç‰‡æœ‰400ä¸ªåƒç´ ç‚¹

&emsp;&emsp;ä¸Šé¢æœ€ç»ˆè®¡ç®—å¾—åˆ°ä¸Šé¢çš„å¼å­ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ä¸€ä¸ªè®­ç»ƒå¥½çš„æ¨¡å‹ã€‚

---
### å»ºæ¨¡
&emsp;&emsp;æ•°æ®å»ºæ¨¡ï¼Œåœ¨è¿™é‡Œä¸æ˜¯æŒ‡3Då»ºæ¨¡ï¼Œè€Œæ˜¯æŒ‡ä¸€ä¸ª**æœºå™¨å­¦ä¹ **çš„æµç¨‹ã€‚è¿™é‡Œæ•°æ®å»ºæ¨¡ç”¨åˆ°äº†æœºå™¨å­¦ä¹ æ˜¯æœ¬é¡¹ç›®å¯ä»¥ç§°ä¹‹ä¸º**äººå·¥æ™ºèƒ½**çš„åŸå› ä¹‹ä¸€ã€‚<be>æ¥ä¸‹æ¥å°†ç®€å•è®²è§£æœºå™¨å­¦ä¹ çš„æµç¨‹ã€‚

#### 1.éšæœºåˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†

&emsp;&emsp;å°†æ•´ç†å¥½çš„æ•°æ®ï¼ŒæŒ‰ç…§ä¸€å®šæ¯”ä¾‹åˆ’åˆ†æˆè®­ç»ƒé›†ä¸æµ‹è¯•é›†ï¼Œè®­ç»ƒé›†çš„æ•°æ®é¡¾åæ€ä¹‰æ˜¯ç”¨äºè®­ç»ƒæ•°æ®çš„ï¼Œæµ‹è¯•é›†çš„æ•°æ®æ˜¯ç”¨æ¥æ£€éªŒæ¨¡å‹çš„æ­£ç¡®ç‡çš„ã€‚

> è®­ç»ƒé›†çš„æ•°æ®å°±å¥½æ¯”é‚£äº›çš„æœ‰ç­”æ¡ˆçš„è¯¾æœ¬ï¼Œæˆ‘ä»¬æ‹¿ä»–å­¦ä¹ æå‡è‡ªå·±çš„èƒ½åŠ›ï¼Œè€Œæµ‹è¯•é›†åˆ™æ›´åƒæ˜¯è¯•å·ï¼Œç”¨æ¥æ£€æµ‹æˆ‘ä»¬çš„å­¦ä¹ æˆæœã€‚

#### 2.å‚æ•°è°ƒä¼˜

&emsp;&emsp; ä¸€ä¸ªæ¨¡å‹å¾€å¾€æœ‰å¾ˆå¤šçš„å‚æ•°éœ€è¦æˆ‘ä»¬å®šä¹‰ï¼Œè¿™äº›å‚æ•°åœ¨ä¸åŒçš„æƒ…å†µä¸‹éœ€è¦å–ä¸åŒçš„æ•°å€¼æ‰èƒ½ä½¿æ¨¡å‹è¾¾åˆ°æœ€ä¼˜çš„æ•ˆæœã€‚ä¸åŒäºå¹³æ—¶çš„ç®—æ³•ç«èµ›é¢˜ç›®ï¼Œè¿™äº›å‚æ•°å€¼å¾€å¾€ä¸æ˜¯ç¡®å®šçš„ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å»è°ƒæ•´ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦è‡ªå·±æ‰‹åŠ¨è°ƒå‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨[ç½‘æ ¼æœç´¢](https://blog.csdn.net/guoyc439/article/details/123381908)ä¸[kæŠ˜äº¤å‰éªŒè¯](https://blog.csdn.net/qq_36535820/article/details/119762665)ä¸¤ç§æ–¹æ³•æ¥è§£å†³æœ€ä¼˜å‚æ•°çš„å¯»æ‰¾é—®é¢˜ã€‚

&emsp;&emsp;è¿™ä¸¤ç§ç®—æ³•çš„ä¸»è¦åšæ³•æ˜¯ï¼Œå°†è®­ç»ƒé›†çš„æ•°æ®ç»§ç»­åˆ†å‡ºä¸€ä¸ªå’ŒéªŒè¯é›†ï¼Œé€šè¿‡ä¸æ–­æµ‹è¯•ä¸è°ƒæ•´ï¼Œæœ€ç»ˆè®¡ç®—å‡ºæœ€ä¼˜æ¨¡å‹çš„å‚æ•°ã€‚ç”±äºç¯‡å¹…æœ‰é™ï¼Œå…¶å…·ä½“åšæ³•è¿™é‡Œä¸åšè¿‡å¤šçš„æè¿°ã€‚

#### 3.è®­ç»ƒ

&emsp;&emsp;æ¨¡å‹è®­ç»ƒçš„æ“ä½œï¼Œå…¶å®æ‰æ˜¯æœºå™¨å­¦ä¹ é‡Œé¢æœ€éš¾çš„éƒ¨åˆ†ï¼Œä¸è¿‡å¥½åœ¨SVMå·²ç»è¢«pythonå°è£…å¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æä¾›å‰é¢æ¸…æ´—å‡ºçš„æ•°æ®ä»¥åŠå®šä¹‰[å‚æ•°è°ƒä¼˜](#2å‚æ•°è°ƒä¼˜)ï¼Œç¨ç­‰ç‰‡åˆ»å³å¯å¾—åˆ°è®­ç»ƒå¥½çš„æ¨¡å‹ã€‚

#### 4.æ¨¡å‹æ£€éªŒ

&emsp;&emsp;å°†ä¹‹å‰åˆ†å‡ºçš„æµ‹è¯•é›†æ•°æ®ä»£å…¥æ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼Œè®¡ç®—æ­£ç¡®ç‡ã€‚å½“ç„¶è¯„ä»·ä¸€ä¸ªæ¨¡å‹çš„å¥½åçš„æŒ‡æ ‡æœ‰å¾ˆå¤šå…¶ä»–çš„è¯„ä»·æŒ‡æ ‡è¿˜æœ‰$$ R^2 $$ï¼Œå¬å›ç‡ç­‰ç­‰ï¼Œè¿™é‡Œä¸åšå»¶ä¼¸ã€‚

#### 5.æ¨¡å‹ä¿å­˜

&emsp;&emsp;æ¯æ¬¡è®­ç»ƒä¸€ä¸ªæ¨¡å‹ç»å¸¸è¦æ¶ˆè€—å¤§é‡çš„æ—¶é—´ï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦ä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œåœ¨ä¸‹æ¬¡åšè¯†åˆ«æ—¶å°±ä¸éœ€è¦å†è®­ç»ƒäº†ã€‚

&emsp;&emsp;ä¸Šé¢å¯¹æœºå™¨å­¦ä¹ çš„å»ºæ¨¡è¿‡ç¨‹çš„æè¿°åœ°ååˆ†ç®€å•ï¼Œä½†æ˜¯å®é™…çš„å»ºæ¨¡è¿‡ç¨‹è¿œæ¯”è¿™ä¸ªè¦å¤æ‚ã€‚åªè¦å‰é¢åœ¨çš„â€œæ•°æ®åˆ†æâ€â€œæ•°æ®é€‰æ‹©ä¸æ¸…æ´—â€â€œæ¨¡å‹é€‰æ‹©â€â€œå‚æ•°è®¾ç½®â€ç­‰ç­‰ç¯èŠ‚å‡ºç°äº†ä¸€ä¸ªé”™è¯¯éƒ½æœ‰å¯èƒ½æŠŠä½ çš„äººå·¥æ™ºèƒ½æ¨¡å‹è®­ç»ƒæˆâ€œäººå·¥æ™ºéšœâ€ï¼Œè€Œä¸”å‰é¢çš„ç¹å¤šæ­¥éª¤ä¹Ÿä¼šåŠ å¤§è°ƒå‚æ’é”™çš„éš¾åº¦ã€‚æˆ‘ä¹Ÿæ˜¯èŠ±äº†4å¤©å·¦å³çš„æ—¶é—´æ‰è®­ç»ƒå‡ºäº†ä¸€ä¸ªæ¯”è¾ƒè¿‡å¾—å»çš„æ¨¡å‹ã€‚

> âš¡å¦‚æœä½ ä¹Ÿæƒ³å…¥é—¨äººå·¥æ™ºèƒ½ï¼Œé‚£è¦æ±‚ä½ è‡³å°‘è¦æœ‰æ¯”è¾ƒå¼ºçš„pythonåŸºç¡€ï¼Œæˆç†Ÿçš„é¢å‘å¯¹è±¡çš„æ€ç»´ï¼Œä»¥åŠå¼ºå¤§çš„å¿ƒç†ç´ è´¨ã€‚âš¡

&emsp;&emsp;ä»¥ä¸‹æ˜¯pyä»£ç å®ç°
```python
    def train(self):
        """
        SVMæ¨¡å‹å®ç°
        :return: None
        """
        ## æ•°æ®åˆ†æä¸é¢„å¤„ç†
        x_train, y_train, x_test, y_test = self.get_data()

        ## ç½‘æ ¼æœç´¢,æ‰¾åˆ°æœ€ä¼˜å‚æ•°
        machine_svm = svm.SVC()

        param_grid = {'C': range(0, 50, 10)}  # è¿™é‡Œè®¾ç½®äº†å‚æ•°çš„æµ‹è¯•èŒƒå›´
        grid_search = GridSearchCV(machine_svm, param_grid, cv=3)  # å»ºç«‹ç½‘æ ¼æœç´¢å™¨æ¨¡å‹
        grid_search.fit(x_train, y_train)  # å¼€å§‹æœç´¢

        ## åˆ›å»ºåˆ†ç±»å™¨å¯¹è±¡
        print("æœ€ä¼˜å‚æ•°æ˜¯ c= ", grid_search.best_params_)
        print("æœ€ä¼˜æ¨¡å‹æ­£ç¡®ç‡ = ", grid_search.best_score_)
        self.machine_svm = grid_search.best_estimator_  # è·å–æœ€ä¼˜æ¨¡å‹

        ## æ¨¡å‹è®­ç»ƒ
        self.machine_svm.fit(x_train, y_train)

        ## æ¨¡å‹éªŒè¯
        result = self.machine_svm.predict(x_test)
        correct = np.count_nonzero(result == y_test)
        accuracy = correct / result.size

        print("æµ‹è¯•é›†æ­£ç¡®ç‡ï¼š", accuracy)

        ## æ¨¡å‹ä¿å­˜
        joblib.dump(self.machine_svm, 'model/svm.pkl')

```


---

### æ•°æ®å¤„ç†

&emsp;&emsp;åœ¨å‰é¢ï¼Œæˆ‘ä»¬ç”¨åšäº†ç‰¹æ®Šå¤„ç†çš„å›¾ç‰‡å¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œæ‰€ä»¥åœ¨ç”¨è¯¥æ¨¡å‹è¿›è¡Œè¯†åˆ«æ“ä½œæ—¶ï¼Œä¹Ÿéœ€è¦å¯¹è¢«è¯†åˆ«å›¾åƒåšåŒæ ·çš„æ“ä½œã€‚åœ¨ä¹‹å‰æ¸…æ´—æ•°æ®æ—¶æˆ‘å¹¶æ²¡æœ‰è¯¦ç»†è®²è§£å…·ä½“çš„æ“ä½œï¼Œæ‰€ä»¥æ”¾åˆ°è¿™é‡Œè¯¦ç»†è¯´æ˜ã€‚

&emsp;&emsp;æˆ‘ä»¬æƒ³è¦é¢„æµ‹ä¸€ä¸ªå›¾åƒï¼Œæ˜¾ç„¶æ— æ³•ç›´æ¥å¯¹ä¸€ä¸ªRGBæ ¼å¼çš„å›¾ç‰‡ä¸‹æ‰‹ï¼Œå¯¹äºä¸€ä¸ªRGBæ ¼å¼çš„å›¾ç‰‡ï¼Œå®ƒçš„æ¯ä¸€ä¸ªåƒç´ ç‚¹éƒ½ç”±ä¸‰ä¸ªæ•°å€¼ç»„æˆï¼ˆRad Green Blueï¼‰ï¼Œè¿™ä¸åˆ©äºè¯†åˆ«ï¼Œæ‰€ä»¥éœ€è¦å¤„ç†æˆä¸€ä¸ªæ•°å€¼ï¼Œè¿™æ ·çš„å¤„ç†è¿‡ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸º**ç°åº¦åŒ–**ã€‚

&emsp;&emsp;å¦‚ä¸‹æ–¹çš„ä¸¤ä¸ªå›¾åƒå°±æ˜¯åšäº†ç°åº¦åŒ–å¤„ç†çš„å›¾åƒå¯¹æ¯”ã€‚


{% include aligner.html images="blog-img/translate/7.jpg,blog-img/translate/8.jpg" column=10 %}

&emsp;&emsp;ä¸ºäº†æ›´å¥½çš„é…å¯¹æ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç°åº¦å›¾è¿›ä¸€æ­¥ç®€åŒ–ï¼Œé€šå¸¸çš„åšæ³•æ˜¯å°†åƒç´ ç‚¹é—´çš„å·®è·æ‹‰çš„å°½å¯èƒ½å¤§ï¼ˆç¦»æ•£åŒ–ï¼‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ–¹å¼æ˜¯**äºŒå€¼åŒ–**

&emsp;&emsp;å¦‚ä¸‹æ–¹çš„ä¸¤ä¸ªå›¾åƒæ˜¯ç°åº¦å›¾åƒåšäº†äºŒå€¼åŒ–å¤„ç†çš„å‰åå¯¹æ¯”ã€‚

{% include aligner.html images="blog-img/translate/8.jpg,blog-img/translate/10.jpg" column=10 %}

&emsp;&emsp;äºŒå€¼åŒ–åçš„å›¾åƒï¼Œä¸ºè¿‡æ»¤æˆ–å¼±åŒ–å‡ºå›¾å½¢ä¸­çš„å°ç™½ç‚¹ï¼ˆå™ªéŸ³ï¼‰ï¼Œæˆ‘ä»¬å¸¸å¸¸é‡‡ç”¨é«˜æ–¯æ¨¡ç³Šï¼ˆæ‰“é©¬èµ›å…‹ï¼‰ä»¥åŠè…èš€çš„æ–¹æ³•ã€‚

&emsp;&emsp;å¦‚ä¸‹å›¾åˆ†åˆ«ä¸ºåšäº†é«˜æ–¯æ¨¡ç³Šå’Œè…èš€æ“ä½œçš„äºŒå€¼å›¾åƒã€‚

{% include aligner.html images="blog-img/translate/11.jpg,blog-img/translate/12.jpg" column=10 %}

&emsp;&emsp;æœ‰æ—¶ï¼Œæˆ‘ä»¬ä¼šæŠŠæ¡ä¸å¥½è…èš€æ“ä½œçš„åº¦ï¼Œä»¥è‡³äºä¸€äº›é‡è¦ä¿¡æ¯ä¹Ÿè¢«è¿‡æ»¤æ‰äº†ï¼Œä¸ºäº†å¼¥è¡¥è¿‡æ»¤æ‰çš„å†…å®¹ï¼Œä¸€èˆ¬ä¼šå¯¹è…èš€åçš„å›¾åƒåš**è†¨èƒ€**æ“ä½œã€‚<br>
ä¸€èˆ¬çš„ï¼Œå…ˆå¯¹ä¸€ä¸ªå›¾åƒåšè…èš€å†å¯¹é½åšè†¨èƒ€çš„ç»„åˆæ“ä½œæˆ‘ä»¬ç§°ä¹‹ä¸º**å¼€è¿ç®—**ã€‚

&emsp;&emsp;å¦‚ä¸‹ä¸ºä¸¤ä¸ªåˆ†åˆ«æ˜¯åšäº†ç¢°æ’å’Œå¼€è¿ç®—çš„å›¾åƒã€‚

{% include aligner.html images="blog-img/translate/13.jpg,blog-img/translate/14.jpg" column=10 %}

&emsp;&emsp;é€šè¿‡`opencv`åº“å®ç°ä»¥ä¸Šæ“ä½œï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ä»ä¸€å¼ å›¾ç‰‡ä¸­æå–å‡ºå¾ˆå¤šæœ‰æ•ˆçš„ä¿¡æ¯ã€‚ä½ å¯ä»¥ä»ä¸‹é¢çš„ä»£ç ä¸­ç›´è§‚å¾—ä½“ä¼šå‡ºè¿™ä¸ªå¤„ç†æµç¨‹ã€‚

```python
    def change_color(self, img):
        """
        å°†å›¾åƒè¿›è¡Œé¢„å¤„ç†
        :param img:img å½©å›¾
        :return: img äºŒå€¼å›¾
        """
        ## åŸå›¾åƒå¤‡ä»½
        copy_img = img.copy()
        self.show(copy_img)

        ## é«˜æ–¯æ¨¡ç³Š
        copy_img = cv2.GaussianBlur(img, (3, 3), 0)

        ## å›¾åƒç°åº¦åŒ–
        copy_img = cv2.cvtColor(copy_img, cv2.COLOR_BGR2GRAY)
        self.show(copy_img)

        ## å›¾åƒäºŒå€¼åŒ–
        _, copy_img = cv2.threshold(copy_img, 115, 255, cv2.THRESH_BINARY_INV)
        self.show(copy_img)

        ## å¼€è¿ç®—é™å™ª
        copy_img = cv2.morphologyEx(copy_img, cv2.MORPH_OPEN, np.ones((2, 2)), iterations=2)
        self.show(copy_img)

        ## è†¨èƒ€è¿ç®—
        copy_img = cv2.morphologyEx(copy_img, cv2.MORPH_DILATE, np.ones((5, 5)), iterations=4)
        self.show(copy_img)

        return copy_img
```
---

## å•è¯ & å¥å­çš„è¯†åˆ«

&emsp;&emsp;åœ¨å‰é¢çš„è®²è§£ä¸­ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº†å¯ä»¥è¯†åˆ«å­—æ¯çš„æ¨¡å‹å’Œæ¸…æ´—å¥½çš„æ•°æ®ã€‚ä½†æ˜¯æ¨¡å‹åªæœ‰è¯†åˆ«å­—æ¯çš„èƒ½åŠ›æ²¡æœ‰è¯†åˆ«å•è¯çš„åŠŸèƒ½ï¼Œæ›´æ²¡æœ‰è¯†åˆ«å¥å­çš„èƒ½åŠ›ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦è‡ªå·±æƒ³åŠæ³•å°†è¯†åˆ«å‡ºæ¥çš„å­—æ¯è¿›è¡Œç»„åˆæ‹¼å‡‘ã€‚

---

### Q & A

&emsp;&emsp;é—®é¢˜1ï¼šä¸ºä»€ä¹ˆï¼Œæ¨¡å‹æ— æ³•è¯†åˆ«å•è¯ï¼Ÿ<br>
&emsp;&emsp;ç­”ï¼šæ¨¡å‹æ˜¯æ‹¿å­—æ¯å›¾é›†è®­ç»ƒå‡ºæ¥çš„ï¼Œæ‰€ä»¥åªèƒ½è¯†åˆ«å•è¯ã€‚

&emsp;&emsp;é—®é¢˜2ï¼šæ˜¯å¦èƒ½å¤Ÿè®­ç»ƒå‡ºèƒ½è¯†åˆ«å•è¯çš„æ¨¡å‹<br>
&emsp;&emsp;ç­”ï¼šå¯ä»¥ï¼Œä½†æ˜¯æˆæœ¬å¾ˆå¤§ï¼Œæ•ˆç‡ä¹Ÿä¸é«˜ã€‚å¯¹äº26ä¸ªå­—æ¯éƒ½éœ€è¦ä¸Šç™¾çš„å›¾å½¢æ•°æ®å–è®­ç»ƒï¼Œå¦‚æœæ¢æˆæ•°ä¸èƒœæ•°çš„å•è¯çš„è¯ï¼Œéœ€è¦çš„æ•°æ®é‚£æ›´æ˜¯æ•°ä¸æ¸…ã€‚è€Œä¸”å•è¯ä¹‹é—´æœ¬èº«å°±æœ‰å¾ˆå¤šç›¸ä¼¼çš„éƒ¨åˆ†ï¼Œè¿™ä¹Ÿä¼šåŠ å¤§è¯†åˆ«çš„éš¾åº¦é™ä½æ•ˆç‡ã€‚

&emsp;&emsp;é—®é¢˜3ï¼šå¦‚æœæ¨¡å‹ä¸èƒ½è¯†åˆ«å•è¯ï¼Œé‚£è¦æ€ä¹ˆå¤„ç†è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ<br>
&emsp;&emsp;ç­”ï¼šå…¶å®ä½¿ç”¨[æ•°æ®å¤„ç†](#æ•°æ®å¤„ç†)ä¸­è¯´åˆ°çš„çš„æ–¹æ³•å°±å¯ä»¥å·§å¦™åœ°å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œä¸è¿‡è¿˜è¦ç”¨åˆ°cvä¸­çš„ä¸€ä¸ªå†…ç½®å‡½æ•°å‡½æ•°ï¼Œå…·ä½“æ“ä½œè¯·çœ‹ä¸‹æ–‡ã€‚

---

### findContoursè½®å»“è·å–å‡½æ•°è¯´æ˜

#### å‡½æ•°è¯´æ˜

&emsp;&emsp; [findContours](https://blog.csdn.net/m0_60447786/article/details/125452378)å¯ä»¥ä½œç”¨äºï¼ŒäºŒå€¼å›¾åƒï¼ŒæŸ¥æ‰¾å‡ºå›¾åƒçš„æ‰€æœ‰è½®å»“ä¿¡æ¯å¹¶è¿”å›ã€‚

#### å‡½æ•°ç­¾å

```python
    def findContours(image, mode, method, contours=None, hierarchy=None, offset=None):
```
&emsp;&emsp;imageï¼šè¡¨ç¤ºä¸€ä¸ªäºŒå€¼åº¦å›¾åƒã€‚<br>
&emsp;&emsp;modeï¼šä½¿ç”¨çš„äºŒå€¼åŒ–çš„ç®—æ³•ã€‚<br>
&emsp;&emsp;methodï¼šè½®å»“æ£€æµ‹çš„æ–¹å¼ã€‚

&emsp;&emsp;å‡½æ•°å…·ä½“çš„ä½¿ç”¨æ–¹å¼è¿™é‡Œä¸åšè¿‡å¤šçš„é˜è¿°ï¼Œå¦‚æœä½ å¯¹æ­¤æ„Ÿå…´è¶£ï¼Œè¯¦æƒ…è¯·çœ‹è¿™é‡ŒğŸ‘‰[findContourså‡½æ•°è¯¦ç»†è§£æ](https://blog.csdn.net/m0_60447786/article/details/125452378)

#### ä»£ç æ¼”ç¤º

&emsp;&emsp;æ–‡å­—çš„æè¿°æˆ–è®¸ä¾ç„¶è®©ä½ éš¾ä»¥ç†è§£ã€‚é‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„ä»£ç å’Œæ•ˆæœå±•ç¤ºã€‚

```python
def test_findContours(self, image=None):
    """
        è¯¥å‡½æ•°ç”¨äºå±•ç¤ºfindContoursçš„å‡½æ•°
        :param img: img
        :return: img,con
    """
    ## è½®å»“æå–
    contours, w1 = cv2.findContours(image, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
    
    ## è½®å»“ç»˜åˆ¶
    show_img = cv2.drawContours(copy_img.copy(), contours, -1, (0, 0, 255), 3)
    self.show(show_img)
```

&emsp;&emsp;å¦‚ä¸‹ä¸¤å›¾ï¼Œåˆ†åˆ«æ˜¯åŸå›¾å’Œæç»˜è½®å»“åçš„å›¾å½¢ã€‚

{% include aligner.html images="blog-img/translate/15.jpg,blog-img/translate/16.jpg" column=10 %}

---

### é¦–å…ˆä»å›¾ç‰‡ä¸­åˆ†ç¦»å‡ºå¥å­

&emsp;&emsp;å¦‚ä½•è¯†åˆ«å‡ºä¸€ä¸ªå¥å­ï¼Ÿå…¶å®æˆ‘ä»¬åªéœ€è¦æ¡†å‡ºå¥å­çš„è½®å»“ï¼Œå†æ ¹æ®è½®å»“ä¿¡æ¯ï¼Œä»åŸå›¾åƒä¸­è£å‰ªå‡ºæ¥å³å¯ã€‚

&emsp;&emsp;ä½†æ˜¯å‰é¢è°ˆåˆ°çš„findContourså‡½æ•°ä¼¼ä¹åªèƒ½æŸ¥æ‰¾å‡ºå­—æ¯çš„è½®å»“ï¼Œé‚£è¦æ€ä¹ˆåšï¼Ÿ

&emsp;&emsp;å…¶å®åªè¦é€‚å½“çš„å¯¹å›¾åƒåšè†¨èƒ€è¿ç®—ï¼Œè®©æ‰€æœ‰çš„å­—æ¯ç²˜è¿åœ¨ä¸€èµ·ï¼Œæ‰€æœ‰çš„å•è¯ç²˜è¿åœ¨ä¸€èµ·ï¼Œè®©å®ƒä»¬å½¢æˆä¸€ä¸ªæ•´ä½“ã€‚é‚£è¿™ä¸ªæ•´ä½“ä¸å°±æ˜¯å¥å­çš„è½®å»“äº†å—ï¼Ÿæ€ä¹ˆæ ·æ˜¯ä¸æ˜¯å¾ˆå·§å¦™ï¼Ÿ<br>

> ä¸èƒ½ä¸Šæ‰‹å°±å¯¹å›¾åƒåšè†¨èƒ€è¿ç®—ï¼Œè¿™å¯èƒ½ä¼šæ”¾å¤§ä¸€äº›æ‚è´¨ï¼ˆå™ªéŸ³ï¼‰ï¼

&emsp;&emsp;ä¸‹é¢å°†å¤„ç†è¿‡ç¨‹è¿›è¡Œå±•ç¤ºï¼Œå¤„ç†æ¬¡åºä¾æ¬¡æ˜¯é«˜æ–¯æ¨¡ç³Šã€ç°åº¦åŒ–ã€äºŒå€¼åŒ–ã€å¼€è¿ç®—ã€è†¨èƒ€

{% include aligner.html images="blog-img/translate/17.jpg,blog-img/translate/18.jpg,blog-img/translate/19.jpg" column=10 %}
{% include aligner.html images="blog-img/translate/20.jpg,blog-img/translate/21.jpg,blog-img/translate/22.jpg" column=10 %}

&emsp;&emsp;ä»£ç å®ç°å¦‚ä¸‹ã€‚

```python
    def change_color(self, img):
        """
        å°†å›¾åƒè¿›è¡Œé¢„å¤„ç†
        :param img:img å½©å›¾
        :return: img äºŒå€¼å›¾
        """
        ## åŸå›¾åƒå¤‡ä»½
        copy_img = img.copy()
        self.show(copy_img)

        ## é«˜æ–¯æ¨¡ç³Š
        copy_img = cv2.GaussianBlur(img, (3, 3), 0)

        ## å›¾åƒç°åº¦åŒ–
        copy_img = cv2.cvtColor(copy_img, cv2.COLOR_BGR2GRAY)
        self.show(copy_img)

        ## å›¾åƒäºŒå€¼åŒ–
        _, copy_img = cv2.threshold(copy_img, 115, 255, cv2.THRESH_BINARY_INV)
        self.show(copy_img)

        ## å¼€è¿ç®—é™å™ª
        copy_img = cv2.morphologyEx(copy_img, cv2.MORPH_OPEN, np.ones((2, 2)), iterations=2)
        self.show(copy_img)

        ## è†¨èƒ€è¿ç®—
        copy_img = cv2.morphologyEx(copy_img, cv2.MORPH_DILATE, np.ones((5, 5)), iterations=4)
        self.show(copy_img)

        return copy_img
```

---

### å…¶æ¬¡ä»å¥å­ä¸­åˆ†ç¦»å‡ºå•è¯

&emsp;&emsp;è¿™ä¸€æ­¥æ“ä½œå…¶å®å’Œï¼Œä¸Šä¸€æ­¥å·®ä¸å¤šï¼Œåªä¸è¿‡éœ€è¦å°†è†¨èƒ€è¿ç®—ç­‰çš„å‚æ•°ç•¥åšè°ƒæ•´ï¼Œä½¿å¾—å•è¯ä¸­çš„å­—æ¯ä¹‹é—´äº’ç›¸è¿æ¥è€Œå•è¯ä¹‹é—´ä¸è¿æ¥ã€‚

&emsp;&emsp;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜è¦è®°å½•å•è¯ä¹‹é—´çš„æ¬¡åºï¼Œä»¥ä¾¿åæœŸæ•´ç†ã€‚

&emsp;&emsp;è¯ä¸å¤šè¯´ï¼Œä¸Šç»“æœï¼š

{% include aligner.html images="blog-img/translate/23.jpg,blog-img/translate/24.jpg,blog-img/translate/25.jpg" column=10 %}
{% include aligner.html images="blog-img/translate/26.jpg,blog-img/translate/27.jpg,blog-img/translate/28.jpg" column=10 %}

&emsp;&emsp;ä¸‹é¢æ˜¯ä»£ç å±•ç¤ºï¼Œç›¸æ¯”ä¸å¥å­è¯†åˆ«éƒ¨åˆ†çš„ä»£ç ï¼Œä¸‹é¢è¿˜å¤šäº†å•è¯å‰ªåˆ‡å’Œæ‰‹åŠ¨é™å™ªçš„ç­‰ä»£ç é€»è¾‘ã€‚

```python
    def image_init(self, img=None):
        """
        è¯¥å‡½æ•°ç”¨äºå°†å›¾åƒç°åº¦åŒ–ï¼Œæ¨¡ç³ŠåŒ–ï¼ŒäºŒå€¼åŒ–ç­‰æ“ä½œå¾—åˆ°å¯ä»¥å¤„ç†çš„å›¾åƒ
        :param img: img
        :return: img,con
        """
        if img is None:
            img = self.img
        copy_img = img.copy()

        ## é«˜æ–¯æ»¤æ³¢
        img = cv2.GaussianBlur(img, (3, 3), 0)

        ## ç°åº¦åŒ–å¤„ç†
        gray_img = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)

        ## äºŒå€¼åŒ–
        _, binary = cv2.threshold(gray_img, 120, 255, cv2.THRESH_BINARY_INV)

        # ## å¼€è¿ç®—ç”¨ä»¥é™å™ª
        kernel = np.ones((3, 3))
        image = cv2.morphologyEx(binary, cv2.MORPH_OPEN, kernel, iterations=1)

        ## è†¨èƒ€
        image = cv2.morphologyEx(binary, cv2.MORPH_DILATE, kernel, iterations=4)

        ## è½®å»“æå–
        contours, w1 = cv2.findContours(image, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
        show_img = cv2.drawContours(copy_img.copy(), contours, -1, (0, 0, 255), 3)

        ## æå–æœ‰æ•ˆè½®å»“
        result = []
        for item in contours:
            if cv2.contourArea(item) < self.min_area:  # è¿‡äºå°çš„éƒ¨åˆ†æŠ›å¼ƒ
                continue

            rect = cv2.boundingRect(item)
            x, y, weight, height = rect  # è¿™ä¸ªæ˜¯è½®å»“çš„ä¿¡æ¯
            result.append(rect)  # æ”¶é›†æ‰€æœ‰çš„è½®å»“ä¿¡æ¯
        # contour æ‰€è¡¨ç¤ºçš„æ˜¯æ¯ä¸€ä¸ªçŸ©å½¢è½®å»“çš„å·¦ä¸Šç‚¹å’Œå³ä¸‹ç‚¹çš„åæ ‡

        contours = [[[a[0], a[1]], [a[0] + a[2], a[1] + a[3]]] for a in result]

        ## å‰ªåˆ‡å¯¹åº”çš„è½®å»“ï¼Œå¹¶è¿”å›å¯¹åº”çš„è½®å»“çŸ©å½¢çš„å·¦ä¸Šç‚¹å’Œå³ä¸‹ç‚¹çš„åæ ‡é›†åˆã€
        result_imgs = []
        for contour in contours:
            result_imgs.append(copy_img[contour[0][1]:contour[1][1], contour[0][0]:contour[1][0]])

        return result_imgs, contours

```
### æœ€åä»å•è¯ä¸­åˆ†ç¦»å‡ºå­—æ¯å¹¶è¯†åˆ«

&emsp;&emsp;å…¶å®è¿™ä¸€æ­¥å¤§ä½“ä¸å‰é¢æ­¥éª¤ç›¸åŒï¼Œåªä¸è¿‡å¯èƒ½ä¸éœ€è¦å†è¿›è¡Œè†¨èƒ€è¿ç®—äº†ï¼Œä¸ç„¶çš„è¯å°†å­—æ¯æ•´ç†ç²˜åˆåœ¨ä¸€èµ·å°±ä¸å¥½è¯†åˆ«äº†ã€‚

&emsp;&emsp;åŒæ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦è®°å½•åˆ†ç¦»å‡ºæ¥çš„å­—æ¯çš„å‰åæ¬¡åºï¼Œä»¥ä¾¿æ•´ç†å‡ºæ­£ç¡®å•è¯ã€‚

&emsp;&emsp;å¯¹äºæ¯ä¸€ä¸ªåˆ†ç¦»å‡ºæ¥çš„å­—æ¯å›¾ç‰‡åŒæ ·æŒ‰ç…§ä¹‹å‰[æ•°æ®å¤„ç†](#æ•°æ®å¤„ç†)çš„æ­¥éª¤ï¼Œæ•´ç†æˆä¸€ä¸ªå¯ä¾›SVMåˆ†ç±»å™¨è¯†åˆ«çš„äºŒå€¼å›¾ç‰‡åï¼Œè¿›è¡Œå­—æ¯é¢„æµ‹ã€‚

&emsp;&emsp;å°†è¯†åˆ«å¥½çš„å­—æ¯æŒ‰é¡ºåºç»„æˆå•è¯ï¼Œå†å°†å•è¯æŒ‰ç…§æ¬¡åºæ•´ç†æˆå¥å­ï¼ˆæœ‰äº›ç±»ä¼¼äºå‡½æ•°å›æº¯çš„è¿‡ç¨‹ï¼‰ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¾—åˆ°äº†å›¾ç‰‡çš„è‹±æ–‡è¯†åˆ«ç»“æœäº†ã€‚

&emsp;&emsp;é‚£ä¹ˆä¸‹é¢è¿™ä¸¤å¼ å›¾å°±æ˜¯å­—æ¯åˆ†ç¦»çš„ç»“æœï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä¹‹å‰æ‰€å±•ç¤ºè¿‡çš„ã€‚

{% include aligner.html images="blog-img/translate/15.jpg,blog-img/translate/16.jpg" column=10 %}

&emsp;&emsp;ä¸‹é¢ç»™å‡ºï¼Œå­—æ¯å›¾ç‰‡å¤„ç†çš„æœ‰å…³ä»£ç é€»è¾‘

```python
    def resize(self, img):
        """
        å›¾åƒéœ€è¦åŸå…ˆå°±æ˜¯ç°åº¦å›¾åƒ
        å°†å›¾ç‰‡è°ƒæ•´åˆ°æ ‡å‡†å¤§å°20*20
        :param img: åŸå›¾åƒ
        :return:finish_img
        """

        if img.shape[0] / img.shape[1] > 4:  # è¡¨ç¤ºé•¿å®½æ¯”å¤ªå¤§äº†ï¼Œä¸é€‚åˆåšæ‹‰ä¼¸æ“ä½œ
            ## å¾…è¡¥å……ï¼Œè¿™é‡Œéœ€è¦è§£å†³è¿‡åº¦æ‹‰ä¼¸çš„é—®é¢˜ï¼Œå¯èƒ½éœ€è¦å¯»æ‰¾å¡«å……çš„æ–¹æ³•
            # è®¡ç®—éœ€è¦ç”¨äºå¡«å……çš„å›¾åƒçš„å®½é«˜
            high = img.shape[0]
            wide = int((img.shape[0] - img.shape[1])/2)

            grid = np.zeros((high, wide))  # è®¡ç®—ç”¨äºå¡«å……çš„é»‘è‰²å›¾ç‰‡

            img = np.hstack((grid, img))      # å·¦å³éƒ½åšå¡«å……
            img = np.hstack((img, grid))  # å·¦å³éƒ½åšå¡«å……

            # æœ€åå°†å¡«å……çš„å›¾åƒé‡æ–°è½¬æ¢ä¸º20*20çš„æ ¼å¼
            img = cv2.resize(img, (20, 20))

          else:
            img = cv2.resize(img, (20, 20))

        # è°ƒæ•´å¤§å°å¹¶è¿”å›
        return img

```
---

## ç¿»è¯‘

å¾…è¡¥å……ã€‚ã€‚ã€‚

---
[å›åˆ°é¡¶éƒ¨](#go_to_top)